(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8ac98cc4"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,a[1](c)}n[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/bazaar/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"19cb":function(e,t,a){},"1b9e":function(e,t,a){},"2ef4":function(e,t,a){"use strict";var r=a("19cb"),n=a.n(r);n.a},"39a6":function(e,t,a){"use strict";var r=a("1b9e"),n=a.n(r);n.a},"54b2":function(e,t,a){"use strict";var r=a("ef61"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),a("v-content",[a("router-view")],1)],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase",on:{click:function(t){e.$router.push("/").catch((function(e){}))}}},[a("span",[e._v("Bazaar")]),a("span",{staticClass:"font-weight-light"},[e._v("V1")])]),a("v-spacer"),e.$store.state.selected?[a("Export",{attrs:{id:e.$store.state.selected,showText:!0}}),a("CreateBill")]:[a("Import",{attrs:{showText:!0}}),a("CreateBazaar")]],2)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"import"},[a("input",{ref:"upload",staticClass:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.loadTextFromFile}}),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.$refs.upload.click()}}},[e.showText?a("span",{staticClass:"mr-2 d-none d-sm-flex"},[e._v("Importieren")]):e._e(),a("v-icon",{attrs:{right:e.$vuetify.breakpoint.smAndUp}},[e._v("mdi-upload")])],1),a("v-dialog",{attrs:{"max-width":"370"},model:{value:e.dialog.show,callback:function(t){e.$set(e.dialog,"show",t)},expression:"dialog.show"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        Importieren\n        "),e.dialog.error?[e._v(" fehlgeschlagen")]:[e._v(" erfolgreich")]],2),e.dialog.error?a("v-card-text",[e._v("Leider ist ein Fehler aufgetreten. Bitte laden Sie die Datei erneut herunter und versuchen Sie diese einzufügen.")]):a("v-card-text",[e._v("Rechnungen '"+e._s(e.dialog.name)+"' wurden erfolgreich mit der ID "+e._s(e.dialog.id)+" importiert.")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Okay!")])],1)],1)],1)],1)},c=[];const d=()=>({show:!1,error:!1,id:0,name:""});var u={name:"Import",props:{showText:Boolean},data:()=>({dialog:d()}),methods:{loadTextFromFile(e){this.dialog.show=!0;const t=e.target.files[0],a=new FileReader;a.onload=e=>{try{const t=JSON.parse(e.target.result),a=t.id;let r=1;while(this.$store.getters.hasBazaar(t.id))t.id=`${a} (${r++})`;this.dialog.id=t.id,this.dialog.name=t.name,this.$store.commit("createBazaar",t)}catch(t){console.log("error",t),this.dialog.error=!0}this.$refs.upload.value=""},a.readAsText(t)},closeDialog(){this.dialog=d()}}},m=u,p=(a("54b2"),a("2877")),v=a("6544"),h=a.n(v),f=a("8336"),b=a("b0af"),g=a("99d9"),_=a("169a"),x=a("132d"),z=Object(p["a"])(m,l,c,!1,null,"1f0fc384",null),k=z.exports;h()(z,{VBtn:f["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:_["a"],VIcon:x["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{attrs:{text:"",href:e.href,download:"Rechnung-"+e.id+".json"},on:{click:function(e){e.stopPropagation()}}},[e.showText?a("span",{staticClass:"mr-2 d-none d-sm-flex"},[e._v("Download")]):e._e(),a("v-icon",{attrs:{right:e.$vuetify.breakpoint.smAndUp}},[e._v("mdi-download")])],1)},w=[],B={name:"Export",props:{showText:Boolean,id:String},data:()=>({}),computed:{href(){const e=new Blob([JSON.stringify(this.$store.state.bazaars[this.id])],{type:"application/json"});return URL.createObjectURL(e)}},methods:{}},$=B,C=Object(p["a"])($,y,w,!1,null,"15c8d4bd",null),V=C.exports;h()(C,{VBtn:f["a"],VIcon:x["a"]});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{color:"primary"}},r),[a("span",{staticClass:"d-none d-sm-flex"},[e._v("Neuen Basar erstellen")]),a("v-icon",{attrs:{right:e.$vuetify.breakpoint.smAndUp}},[e._v("mdi-shopping")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Basar erstellen")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{ref:"name",attrs:{label:"Name",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.create(t)}},model:{value:e.bazaar.name,callback:function(t){e.$set(e.bazaar,"name",t)},expression:"bazaar.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:e.bazaar.id,callback:function(t){e.$set(e.bazaar,"id",t)},expression:"bazaar.id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Date",disabled:""},model:{value:e.bazaar.date,callback:function(t){e.$set(e.bazaar,"date",t)},expression:"bazaar.date"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Schließen")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.create}},[e._v("Erstellen")])],1)],1)],1)},E=[];const I=()=>({id:""+Math.floor(Math.random()*Math.pow(10,6)),date:(new Date).toUTCString(),name:""});var O={name:"CreateBazaar",props:{},data(){return{dialog:!1,bazaar:I()}},watch:{dialog(){this.dialog&&(this.bazaar=I(),setTimeout(()=>this.$refs.name.focus(),250))}},methods:{create(){this.$store.commit("createBazaar",this.bazaar),this.dialog=!1,this.$router.push(`/bazaar/${this.bazaar.id}`)}}},j=O,S=a("62ad"),A=a("a523"),D=a("0fd9"),P=a("8654"),M=Object(p["a"])(j,T,E,!1,null,null,null),F=M.exports;h()(M,{VBtn:f["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:S["a"],VContainer:A["a"],VDialog:_["a"],VIcon:x["a"],VRow:D["a"],VTextField:P["a"]});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"primary",on:{click:function(t){return e.$store.commit("addBill")}}},[a("span",{staticClass:"mr-2 d-none d-sm-flex"},[e._v("Neue Rechnung")]),a("v-icon",{attrs:{right:e.$vuetify.breakpoint.smAndUp}},[e._v("mdi-receipt")])],1)},R=[],U={name:"CreateBill"},L=U,J=Object(p["a"])(L,N,R,!1,null,null,null),q=J.exports;h()(J,{VBtn:f["a"],VIcon:x["a"]});var K={name:"Header",components:{Import:k,Export:V,CreateBazaar:F,CreateBill:q},data:()=>({}),computed:{},methods:{}},H=K,G=(a("39a6"),a("40dc")),Q=a("2fa4"),W=a("2a7f"),X=Object(p["a"])(H,o,i,!1,null,"4c8de3e1",null),Y=X.exports;h()(X,{VAppBar:G["a"],VSpacer:Q["a"],VToolbarTitle:W["a"]});var Z={name:"App",components:{Header:Y},data:()=>({}),methods:{}},ee=Z,te=(a("7c55"),a("7496")),ae=a("a75b"),re=Object(p["a"])(ee,n,s,!1,null,null,null),ne=re.exports;h()(re,{VApp:te["a"],VContent:ae["a"]});var se=a("8c4f"),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"home"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("Bazaars")],1)],1)],1)},ie=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("h1",[e._v("Basars")]),a("v-simple-table",[a("thead",[a("tr",[a("th",[e._v("Name")]),a("th",[e._v("Date")]),a("th",[e._v("ID")]),a("th",[e._v("Aktionen")])])]),a("tbody",e._l(e.$store.getters.bazaarsAsList,(function(t){return a("tr",{key:t.id,on:{click:function(a){return a.stopPropagation(),e.$router.push("/bazaar/"+t.id)}}},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.date))]),a("td",[e._v(e._s(t.id))]),a("td",[a("Merge",{attrs:{preselection:t.id}}),a("Export",{attrs:{id:t.id}}),a("Delete",{attrs:{headline:"Basar '"+t.name+"' [ID: "+t.id+"] wirklich löschen?"},on:{delete:function(a){return e.deleteEntry(t.id)}}})],1)])})),0)])],1)},ce=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:""},on:{click:function(e){e.stopPropagation()}}},r),[e.showText?a("span",{staticClass:"mr-2"},[e._v("Entfernen")]):e._e(),a("v-icon",[e._v("mdi-delete")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.headline))]),a("v-card-text",[e._v("Dies kann nicht Rückgängig gemacht werden.")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1,e.$emit("keep")}}},[e._v("Behalten!")]),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1,e.$emit("delete"),e.$emit}}},[e._v("Löschen!")])],1)],1)],1)},ue=[],me={name:"ImportExport",components:{},props:{showText:Boolean,headline:String},data(){return{dialog:!1}},computed:{},methods:{}},pe=me,ve=Object(p["a"])(pe,de,ue,!1,null,"83051ea2",null),he=ve.exports;h()(ve,{VBtn:f["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:_["a"],VIcon:x["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{text:""},on:{click:function(e){e.stopPropagation()}}},r),[a("v-icon",[e._v("mdi-merge")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Basar erstellen")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{ref:"name",attrs:{label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.bazaars,"menu-props":"auto",label:"Basar 1"},model:{value:e.selected1,callback:function(t){e.selected1=t},expression:"selected1"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.bazaars,"menu-props":"auto",label:"Basar 2"},model:{value:e.selected2,callback:function(t){e.selected2=t},expression:"selected2"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Schließen")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.create}},[e._v("Erstellen")])],1)],1)],1)},be=[];var ge={name:"Merge",props:{preselection:String},data(){return{dialog:!1,bazaars:[],name:"",selected1:null,selected2:null}},watch:{dialog(){this.dialog&&(this.selected1=this.preselection,this.bazaars=this.$store.getters.bazaarsAsList.map(e=>({text:`${e.name} - ${e.date} (${e.id})`,value:e.id})),setTimeout(()=>this.$refs.name.focus(),250))}},methods:{create(){this.$store.dispatch("merge",{name:this.name,bazaars:[this.selected1,this.selected2]}),this.dialog=!1}}},_e=ge,xe=a("b974"),ze=Object(p["a"])(_e,fe,be,!1,null,null,null),ke=ze.exports;h()(ze,{VBtn:f["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:S["a"],VContainer:A["a"],VDialog:_["a"],VIcon:x["a"],VRow:D["a"],VSelect:xe["a"],VTextField:P["a"]});var ye={name:"Bazaars",components:{Delete:he,Export:V,Merge:ke},props:{},data(){return{}},computed:{},methods:{deleteEntry(e){this.$store.commit("deleteBazaar",e)}}},we=ye,Be=(a("2ef4"),a("1f4f")),$e=Object(p["a"])(we,le,ce,!1,null,"e9f25276",null),Ce=$e.exports;h()($e,{VCard:b["a"],VSimpleTable:Be["a"]});var Ve={name:"home",components:{Bazaars:Ce},mounted(){this.$store.commit("selectBazaar",null)},methods:{}},Te=Ve,Ee=Object(p["a"])(Te,oe,ie,!1,null,null,null),Ie=Ee.exports;h()(Ee,{VCol:S["a"],VContainer:A["a"],VRow:D["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.selected?a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h1",[e._v(e._s(e.bazaar.name))])]),a("v-col",{staticClass:"name-info",attrs:{cols:"12",md:"4"}},[a("h4",[e._v(e._s(e.bazaar.date))]),a("h5",[e._v("ID: "+e._s(e.bazaar.id))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"bills"},e._l(e.$store.getters.billIds,(function(t,r){return a("Bill",{key:r,attrs:{id:t,highlighted:0===r},on:{finish:e.addBill}})})),1)]),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("Customers")],1)],1)],1):e._e()},je=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"bill",style:e.highlighted||e.focused?"":"opacity: 0.5;",attrs:{outlined:e.highlighted,raised:e.highlighted,id:e.refId},on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1},mouseenter:function(t){e.focused=!0},mouseleave:function(t){e.focused=!1}}},[a("div",{staticClass:"chart-naming"},[a("h3",[e._v("Rechnung "+e._s(e.id))]),a("span",[a("Delete",{attrs:{headline:"Rechnung '"+e.id+"' wirklich löschen?"},on:{delete:e.deleteBill}}),a("v-icon",{on:{click:function(t){return t.stopPropagation(),e.print(t)}}},[e._v("mdi-printer")])],1)]),a("v-simple-table",[a("thead",[a("tr",[a("th",[e._v("Kundenr.")]),a("th",[e._v("Preis")]),a("th",[e._v("Entfernen")])])]),a("tbody",[e._l(e.bill,(function(t,r){return a("tr",{key:r},[a("td",[e._v(e._s(t.customer))]),a("td",[e._v(e._s(t.price.toFixed(2))+" €")]),a("td",{on:{click:function(t){return e.deleteEntry(r)}}},[a("v-icon",[e._v("mdi-close-circle")])],1)])})),a("tr",[a("td",[e._v("SUMME")]),a("td",{attrs:{colspan:"2"}},[e._v(e._s(e.sum.toFixed(2))+" €")])]),a("tr",[a("td",[a("v-text-field",{ref:"customer",attrs:{name:"customer",label:"Kundenr."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.price.focus()}},model:{value:e.current.customer,callback:function(t){e.$set(e.current,"customer",t)},expression:"current.customer"}})],1),a("td",[a("v-text-field",{ref:"price",attrs:{name:"price",label:"Preis",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addEntry(t)}},model:{value:e.current.price,callback:function(t){e.$set(e.current,"price",e._n(t))},expression:"current.price"}})],1),a("td",[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.highlighted,expression:"highlighted"}],on:{click:function(t){e.showInfo=!e.showInfo}}},[e._v("mdi-information")])],1)])],2)]),e.highlighted&&e.showInfo?a("span",{staticClass:"bill__info"},[e._v("\n    Doppelt Enter ohne Eingabe einer Kundennr. und eines Preises schließt die aktuelle Rechnung ab und erstellt automatisch eine neue Rechnung.\n  ")]):e._e()],1)},Ae=[];const De=()=>({customer:"",price:null});var Pe={name:"Bill",components:{Delete:he},props:{id:String,highlighted:Boolean},data(){return{current:De(),focused:!1,showInfo:!0}},computed:{bill(){return this.$store.getters.getBillById(this.id)},sum(){return this.bill.reduce((e,t)=>e+t.price,0)},refId(){return`bill-${this.id}`}},methods:{addEntry(){this.current.customer.length&&this.current.price?this.$store.commit("addEntryToBill",{billId:this.id,...this.current}):this.finish(),this.$refs.customer.focus(),this.reset()},deleteEntry(e){this.$store.commit("deleteEntryFromBill",{billId:this.id,entryId:e})},deleteBill(){this.$store.commit("deleteBill",{billId:this.id})},reset(){this.current=De()},finish(){this.$emit("finish")},print(){this.$htmlToPaper(this.refId)}}},Me=Pe,Fe=(a("a6d2"),Object(p["a"])(Me,Se,Ae,!1,null,"27dc330d",null)),Ne=Fe.exports;h()(Fe,{VCard:b["a"],VIcon:x["a"],VSimpleTable:Be["a"],VTextField:P["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"customers",attrs:{outlined:"",raised:"",id:"invoice"}},[a("div",{staticClass:"chart-naming"},[a("h2",[e._v("Abrechnung")]),a("span",[a("v-icon",{on:{click:function(t){return t.stopPropagation(),e.$htmlToPaper("invoice")}}},[e._v("mdi-printer")])],1)]),a("v-simple-table",[a("thead",[a("tr",[a("th",[e._v("Kundenr.")]),a("th",[e._v("Artikel")]),a("th",[e._v("Brutto")]),a("th",[e._v("Abzug "+e._s(100*e.reverseTax)+"%")]),a("th",[e._v("Netto")])])]),a("tbody",[e._l(e.customers,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.amount))]),a("td",[e._v(e._s(e.clean(t.price))+" €")]),a("td",[e._v(e._s(e.clean(t.price,e.reverseTax))+" €")]),a("td",[e._v(e._s(e.clean(t.price,e.tax))+" €")])])})),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("SUMME")]),a("td",[e._v(e._s(e.clean(e.sum))+" €")]),a("td",[e._v(e._s(e.clean(e.sum,e.reverseTax))+" €")]),a("td",[e._v(e._s(e.clean(e.sum,e.tax))+" €")])])],2)])],1)},Ue=[],Le={name:"Customers",props:{tax:{type:Number,default:.9}},computed:{reverseTax(){return-(100-100*this.tax)/100},customers(){return this.$store.getters.customers},sum(){return this.$store.getters.sum}},methods:{clean(e,t=1){return(e*t).toFixed(2)}}},Je=Le,qe=(a("59f7"),Object(p["a"])(Je,Re,Ue,!1,null,"53b6779a",null)),Ke=qe.exports;h()(qe,{VCard:b["a"],VIcon:x["a"],VSimpleTable:Be["a"]});var He={name:"Bazaar",components:{Bill:Ne,Customers:Ke},computed:{bazaar(){return this.$store.getters.bazaar}},mounted(){this.$store.commit("selectBazaar",this.$route.params.id),this.$store.getters.billIds.length||this.addBill(this.$route.params.id)},methods:{addBill(){this.$store.commit("addBill")}}},Ge=He,Qe=(a("833f"),Object(p["a"])(Ge,Oe,je,!1,null,"a03b2ace",null)),We=Qe.exports;h()(Qe,{VCol:S["a"],VContainer:A["a"],VRow:D["a"]}),r["a"].use(se["a"]);var Xe=new se["a"]({routes:[{path:"/",name:"home",component:Ie},{path:"/bazaar/:id",name:"Bazaar",component:We},{path:"/about",name:"about",component:()=>a.e("about").then(a.bind(null,"f820"))}]}),Ye=a("2f62");r["a"].use(Ye["a"]);const Ze="bazaars",et=JSON.parse(localStorage.getItem(Ze)),tt=new Ye["a"].Store({state:{bazaars:et||{},selected:null},getters:{bazaar:e=>e.bazaars[e.selected]||{bills:{}},hasBazaar:e=>t=>!!e.bazaars[t],bazaarsAsList:e=>Object.values(e.bazaars),billIds:(e,t)=>Object.keys(t.bazaar.bills).reverse(),getBillById:(e,t)=>e=>t.bazaar.bills[e],sum:(e,t)=>Object.values(t.bazaar.bills).flat().reduce((e,t)=>e+t.price,0),customers:(e,t)=>{const a=Object.values(t.bazaar.bills).flat().reduce((e,t)=>({...e,[t.customer]:e[t.customer]?{price:e[t.customer].price+t.price,amount:++e[t.customer].amount}:{price:t.price,amount:1}}),{});return Object.keys(a).map(e=>({id:e,price:a[e].price,amount:a[e].amount})).sort((e,t)=>e.id>t.id)}},mutations:{createBazaar(e,{id:t,name:a,date:r,lastBillId:n=0,bills:s={}}){e.bazaars={...e.bazaars,[t]:{id:t,name:a,date:r,lastBillId:n,bills:s}}},selectBazaar(e,t){e.selected=t},deleteBazaar(e,t){r["a"].delete(e.bazaars,t)},addBill(e,t){const a=e.bazaars[t||e.selected];a.bills={...a.bills,[++a.lastBillId]:[]},e.bazaars={...e.bazaars,[e.selected]:a}},addEntryToBill(e,{billId:t,customer:a,price:r}){const n=e.bazaars[e.selected];n.bills={...n.bills,[t]:[...n.bills[t],{customer:a,price:r}]},e.bazaars={...e.bazaars,[e.selected]:n}},deleteEntryFromBill(e,{billId:t,entryId:a}){const r=e.bazaars[e.selected];r.bills={...r.bills,[t]:r.bills[t].filter((e,t)=>t!==a)},e.bazaars={...e.bazaars,[e.selected]:r}},deleteBill(e,{billId:t}){const a=e.bazaars[e.selected];delete a.bills[t],e.bazaars={...e.bazaars,[e.selected]:a}},addBillsToBazaar(e,{id:t,bills:a,idAddon:r}){const n=e.bazaars[t],s=Object.keys(a).reduce((e,t)=>({...e,[`${t} (${r})`]:a[t]}),{});n.bills={...s,...n.bills},e.bazaars={...e.bazaars,[t]:n}}},actions:{merge({state:e,commit:t},{name:a,bazaars:r}){const n=""+Math.floor(Math.random()*Math.pow(10,6));t("createBazaar",{name:a,id:n,date:(new Date).toUTCString()}),r.forEach(a=>{t("addBillsToBazaar",{id:n,idAddon:a,bills:e.bazaars[a].bills})})}}});tt.watch(e=>e.bazaars,e=>localStorage.setItem(Ze,JSON.stringify(e)));var at=tt,rt=a("f309"),nt=a("0fe0"),st=a.n(nt);r["a"].use(rt["a"]);var ot=new rt["a"]({lang:{locales:{de:st.a},current:"de"},icons:{iconfont:"mdi"},theme:{dark:!0}}),it=a("9483");Object(it["a"])("/bazaar/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});a("d5e8"),a("5363");var lt=a("b676"),ct=a.n(lt);r["a"].use(ct.a),r["a"].config.productionTip=!1,new r["a"]({router:Xe,store:at,vuetify:ot,render:e=>e(ne)}).$mount("#app")},"59f7":function(e,t,a){"use strict";var r=a("9cd3"),n=a.n(r);n.a},"7c55":function(e,t,a){"use strict";var r=a("c68b"),n=a.n(r);n.a},"833f":function(e,t,a){"use strict";var r=a("b10b"),n=a.n(r);n.a},"9cd3":function(e,t,a){},a26a:function(e,t,a){},a6d2:function(e,t,a){"use strict";var r=a("a26a"),n=a.n(r);n.a},b10b:function(e,t,a){},c68b:function(e,t,a){},ef61:function(e,t,a){}});
//# sourceMappingURL=app.5e9442d1.js.map